const BaseUrl = "https://dev-hindijokeapi.onrender.com/joke-api/"

const fetchData = async (url) => {
  try {
    let response = await fetch(url)
    if(!response.ok) {
      throw new Error(`HTTP Error`)
    }
    const joke = await response.json();
    return joke;
  } catch (error) {    
    return { jokeContent: "so so so... sorry! ðŸ¤£ðŸ˜‚ðŸ˜†ðŸ˜„" };
  }
}
 
export const getRandomJoke = async () => {
  let randomUrl = BaseUrl + "random-joke/";
  return await fetchData(randomUrl);
}

export const getCurrentJoke = async (jokeno) => {
  let currentUrl = BaseUrl + `/current-joke`;
  if(jokeno && jokeno > 0) {
    currentUrl = currentUrl + `/?jokeNo=${jokeno}`;
  }
  return await fetchData(currentUrl);
}